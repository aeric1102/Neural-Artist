<!DOCTYPE html>
<html>
<head>
    <% include ../partials/header_element %>
    <link href="/stylesheets/cropper/cropper.css" rel="stylesheet" type="text/css">
    <link href="/stylesheets/create/stylize.css" rel="stylesheet" type="text/css">
</head>
<body>
<% include ../partials/navbar %>

<div class="container">
    <form id="img_stylize_form" action="/create" method="POST" enctype="multipart/form-data">
        <div class="form-row">
            <div class="form-group col-lg-6 mb-3 mb-lg-0">
                <div class="card">
                    <div class="card-body p-0">
                        <div class="container-16-9">
                            <img id="contentImg" src="/stylesheets/image-placeholder.jpg" class="container-content card-img-top">
                        </div>
                        <label for="selectContent" class="w-100">
                            <div class="btn btn-secondary btn-block">
                                Choose File
                                <input class="form-control" type="file" name="selectContent" id="selectContent" accept="image/*" required>
                            </div>
                        </label>
                    </div>
                </div>
            </div>
            <div class="form-group col-lg-6 mt-3 mt-lg-0">
                <div class="card">
                    <div class="style-block">
                        <div class="row m-0">
                            <% for(var i = 0; i < styleImgModelPath.length; i++){ %>
                                <div class="style-block-col col-6 p-2">
                                    <div class="container-square">
                                        <% var styleImg = styleImgModelPath[i].styleImg %>
                                        <% var checked = (typeof(showStyle) !== "undefined" && showStyle === styleImg.split("/").pop().slice(0, -4)) ? "checked" : "" %>
                                        <input class="selectStyle" type="radio" name="selectStyle" value="<%= i %>" id="styleImg_<%= i %>" required <%= checked %>>
                                        <label class="container-content" for="styleImg_<%= i %>" style="background-image: url(<%= styleImg %>); background-size: cover"></label>

                                        <h2><i class="centered-icon fas fa-check text-white"></i></h2>
                                    </div>
                                </div>
                            <% }  %>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div>
            <button id="submitBtn" class="btn btn-primary btn-block">Stylize Your Image</button>
            <button id="loading_spinner" class="btn btn-primary btn-block d-none m-0" type="button" disabled>
                <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                Processing...
            </button>
        </div>
    </form>
</div>


<% include ../partials/footer_element %>
<script src="/scripts/js_load_image/load-image.all.min.js"></script>
<script src="/scripts/cropper/cropper.js" type="text/javascript"></script>
<script src="/scripts/create/stylize.js" type="text/javascript"></script>
</body>
</html>